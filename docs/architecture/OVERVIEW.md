# System Architecture Overview - Inspect-Hub

## ì‹œìŠ¤í…œ ê°œìš”

Inspect-HubëŠ” ê¸ˆìœµê¸°ê´€ì„ ìœ„í•œ AML (Anti-Money Laundering) í†µí•© ì¤€ë²•ê°ì‹œ ì‹œìŠ¤í…œìœ¼ë¡œ, ì˜ì‹¬ê±°ë˜ íƒì§€ë¶€í„° ë³´ê³ ê¹Œì§€ ì „ì²´ ì»´í”Œë¼ì´ì–¸ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•©ë‹ˆë‹¤.

**í•µì‹¬ íŠ¹ì§•:**
- ğŸ¯ SPA Frontend + RESTful Backend (ì™„ì „ ë¶„ë¦¬)
- ğŸ“¸ Snapshot-based Versioning (ì •ì±… ë¶ˆë³€ì„±)
- ğŸ“ 100% Audit Logging (ê°ì‚¬ ì¶”ì )
- ğŸ”’ RBAC + SoD (ì—­í•  ê¸°ë°˜ ê¶Œí•œ + ì§ë¬´ ë¶„ë¦¬)
- ğŸš€ ëŒ€ìš©ëŸ‰ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (1000ë§Œ ê±´/ì¼)

## ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Chrome   â”‚   â”‚ Firefox  â”‚   â”‚ Safari   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTPS
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Nginx (Static File Server)                            â”‚ â”‚
â”‚  â”‚  - Serve HTML/CSS/JS (Nuxt SPA Build)                  â”‚ â”‚
â”‚  â”‚  - Reverse Proxy to Backend API                        â”‚ â”‚
â”‚  â”‚  - SSL/TLS Termination                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
                â–¼                       â–¼ (API Proxy)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend (SPA)     â”‚   â”‚     Backend API Layer          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Nuxt 4 Build  â”‚  â”‚   â”‚  â”‚  Spring Boot 3.3.2       â”‚  â”‚
â”‚  â”‚  - Vue 3       â”‚  â”‚   â”‚  â”‚  - RESTful API          â”‚  â”‚
â”‚  â”‚  - PrimeVue    â”‚  â”‚   â”‚  â”‚  - JWT Authentication    â”‚  â”‚
â”‚  â”‚  - RealGrid2   â”‚  â”‚   â”‚  â”‚  - CORS Handling        â”‚  â”‚
â”‚  â”‚  - Pinia       â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                           â”‚  â”‚  Business Logic Modules   â”‚  â”‚
                           â”‚  â”‚  - Policy Management      â”‚  â”‚
                           â”‚  â”‚  - Detection Engine       â”‚  â”‚
                           â”‚  â”‚  - Investigation          â”‚  â”‚
                           â”‚  â”‚  - Reporting              â”‚  â”‚
                           â”‚  â”‚  - Batch Processing       â”‚  â”‚
                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚                    â”‚
                    â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Data Layer          â”‚  â”‚  Cache Layer       â”‚  â”‚  Message Queueâ”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  PostgreSQL      â”‚  â”‚  â”‚  â”‚  Redis       â”‚ â”‚  â”‚  â”‚  Kafka   â”‚ â”‚
â”‚  â”‚  - Main DB       â”‚  â”‚  â”‚  â”‚  - Session   â”‚ â”‚  â”‚  â”‚  - Eventsâ”‚ â”‚
â”‚  â”‚  - Audit DB      â”‚  â”‚  â”‚  â”‚  - Code Cacheâ”‚ â”‚  â”‚  â”‚  - Async â”‚ â”‚
â”‚  â”‚  - Batch DB      â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë°°í¬ ì•„í‚¤í…ì²˜

### Development Environment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer Workstation                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Frontend â”‚    â”‚  Backend         â”‚ â”‚
â”‚  â”‚  npm run  â”‚â”€â”€â”€â–¶â”‚  ./gradlew       â”‚ â”‚
â”‚  â”‚  dev      â”‚    â”‚  bootRun         â”‚ â”‚
â”‚  â”‚  :3000    â”‚    â”‚  :8090           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                    â”‚                   â”‚
â”‚                    â–¼                   â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚            â”‚  H2 In-Memoryâ”‚            â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Production Environment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Load Balancer                        â”‚
â”‚                       (AWS ALB / F5)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                               â”‚
            â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Cluster  â”‚          â”‚   Backend Cluster      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Nginx #1    â”‚  â”‚          â”‚  â”‚  Spring Boot #1  â”‚  â”‚
â”‚  â”‚  (Pod)       â”‚  â”‚          â”‚  â”‚  (Pod)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Nginx #2    â”‚  â”‚          â”‚  â”‚  Spring Boot #2  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Nginx #3    â”‚  â”‚          â”‚  â”‚  Spring Boot #3  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                     â”‚                     â”‚
                    â–¼                     â–¼                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  PostgreSQL HA     â”‚  â”‚  Redis Cluster   â”‚  â”‚  Kafka Cluster â”‚
        â”‚  (Primary+Replica) â”‚  â”‚  (Master+Slaves) â”‚  â”‚  (3 Brokers)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

### Frontend Stack

| ë ˆì´ì–´ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|--------|------|------|------|
| **Framework** | Nuxt | 3.x | Vue 3 ê¸°ë°˜ SPA í”„ë ˆì„ì›Œí¬ |
| **UI Library** | PrimeVue | Latest | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **Grid** | RealGrid2 | Commercial | ëŒ€ìš©ëŸ‰ ë°ì´í„° ê·¸ë¦¬ë“œ |
| **Styling** | Tailwind CSS | 3.x | ìœ í‹¸ë¦¬í‹° CSS (prefix: tw-) |
| **State** | Pinia | Latest | Vue 3 ìƒíƒœ ê´€ë¦¬ |
| **Validation** | VeeValidate + Zod | Latest | í¼ ê²€ì¦ |
| **Charts** | Apache ECharts | 5.x | ë°ì´í„° ì‹œê°í™” |
| **i18n** | @nuxtjs/i18n | Latest | ë‹¤êµ­ì–´ (í•œêµ­ì–´/ì˜ì–´) |
| **Build** | Vite | 5.x | ë¹Œë“œ ë„êµ¬ |

### Backend Stack

| ë ˆì´ì–´ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|--------|------|------|------|
| **Language** | Java | 21 | í”„ë¡œê·¸ë˜ë° ì–¸ì–´ |
| **Framework** | Spring Boot | 3.3.2 | ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ |
| **Security** | Spring Security | 6.x | ì¸ì¦/ì¸ê°€ (JWT, OAuth2) |
| **Data Access** | MyBatis | 3.0.3 | SQL Mapper |
| **Database** | PostgreSQL | 15+ | ì£¼ìš” ë°ì´í„°ë² ì´ìŠ¤ |
| **Cache** | Redis | 7+ | ë¶„ì‚° ìºì‹œ |
| **Message Queue** | Kafka | 3.x | ë¹„ë™ê¸° ë©”ì‹œì§• |
| **Batch** | Spring Batch | 5.x | ë°°ì¹˜ ì²˜ë¦¬ |
| **API Docs** | Springdoc OpenAPI | Latest | Swagger UI |
| **Build** | Gradle | 8.5 | ë¹Œë“œ ë„êµ¬ |

## ëª¨ë“ˆ êµ¬ì¡°

### Backend ëª¨ë“ˆ ì˜ì¡´ì„±

```
server (Main Application)
  â”œâ”€â†’ common (ê³µí†µ)
  â”‚    - Entity, DTO, Utils, Exception
  â”‚
  â”œâ”€â†’ policy (ì •ì±… ê´€ë¦¬)
  â”‚    - ìŠ¤ëƒ…ìƒ· ë²„ì „ ê´€ë¦¬
  â”‚    - KYC, STR, CTR, WLF ì •ì±…
  â”‚    â””â”€â†’ common
  â”‚
  â”œâ”€â†’ detection (íƒì§€ ì—”ì§„)
  â”‚    - STR/CTR/WLF íƒì§€
  â”‚    - ë£° ì—”ì§„
  â”‚    â””â”€â†’ common, policy
  â”‚
  â”œâ”€â†’ investigation (ì¡°ì‚¬)
  â”‚    - ì¼€ì´ìŠ¤ ê´€ë¦¬
  â”‚    - ì›Œí¬í”Œë¡œ
  â”‚    â””â”€â†’ common, detection
  â”‚
  â”œâ”€â†’ reporting (ë³´ê³ )
  â”‚    - STR/CTR ë³´ê³ ì„œ
  â”‚    - FIU ì œì¶œ
  â”‚    â””â”€â†’ common, investigation
  â”‚
  â”œâ”€â†’ batch (ë°°ì¹˜)
  â”‚    - Spring Batch Jobs
  â”‚    - ìŠ¤ì¼€ì¤„ë§
  â”‚    â””â”€â†’ common, detection, investigation
  â”‚
  â”œâ”€â†’ simulation (ì‹œë®¬ë ˆì´ì…˜)
  â”‚    - What-if ë¶„ì„
  â”‚    - ë¦¬ìŠ¤í¬ ì‹œë®¬ë ˆì´ì…˜
  â”‚    â””â”€â†’ common, policy, detection
  â”‚
  â””â”€â†’ admin (ê´€ë¦¬)
       - ì‚¬ìš©ì/ì¡°ì§/ê¶Œí•œ
       - ì‹œìŠ¤í…œ ì„¤ì •
       â””â”€â†’ common
```

### Frontend ëª¨ë“ˆ êµ¬ì¡° (FSD)

```
frontend/
â”œâ”€â”€ app/                    # Application Layer
â”‚   â”œâ”€â”€ layouts/           # ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ providers/         # ê¸€ë¡œë²Œ í”„ë¡œë°”ì´ë”
â”‚   â””â”€â”€ styles/            # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚
â”œâ”€â”€ pages/                  # Pages Layer (Nuxt Routing)
â”‚   â”œâ”€â”€ index/
â”‚   â”œâ”€â”€ login/
â”‚   â””â”€â”€ dashboard/
â”‚
â”œâ”€â”€ widgets/                # Widgets Layer
â”‚   â”œâ”€â”€ header/
â”‚   â”œâ”€â”€ sidebar/
â”‚   â”œâ”€â”€ tab-manager/
â”‚   â””â”€â”€ menu-navigation/
â”‚
â”œâ”€â”€ features/               # Features Layer
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ attachment/
â”‚   â”œâ”€â”€ memo/
â”‚   â””â”€â”€ notification/
â”‚
â”œâ”€â”€ entities/               # Entities Layer
â”‚   â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ case/
â”‚   â””â”€â”€ report/
â”‚
â””â”€â”€ shared/                 # Shared Layer
    â”œâ”€â”€ ui/                # Atomic Design
    â”‚   â”œâ”€â”€ atoms/
    â”‚   â”œâ”€â”€ molecules/
    â”‚   â””â”€â”€ organisms/
    â”œâ”€â”€ api/               # API Client
    â”œâ”€â”€ lib/               # Utilities
    â””â”€â”€ types/             # TypeScript Types
```

## ë°ì´í„° íë¦„

### 1. íŠ¸ëœì­ì…˜ íƒì§€ íë¦„

```
[External System] 
    â”‚ (File/API)
    â–¼
[Data Ingestion]
    â”‚ Validate & Transform
    â–¼
[TX_STAGING Table]
    â”‚ Nightly Batch
    â–¼
[Detection Engine]
    â”‚ Apply Rules (Snapshot ver)
    â”œâ”€â†’ STR Detection
    â”œâ”€â†’ CTR Detection
    â””â”€â†’ WLF Matching
    â”‚
    â–¼
[DETECTION_EVENT Table]
    â”‚ High Severity
    â–¼
[Auto Case Creation]
    â”‚
    â–¼
[ALERT_CASE Table]
    â”‚
    â–¼
[Investigation Workflow]
    â”œâ”€â†’ Analyst Review
    â”œâ”€â†’ Supervisor Approval
    â””â”€â†’ Compliance Head Approval
    â”‚
    â–¼
[Report Generation]
    â”‚
    â–¼
[FIU Submission]
```

### 2. API ìš”ì²­ íë¦„

```
[Browser]
    â”‚ HTTP Request (JWT Token)
    â–¼
[Nginx]
    â”‚ Reverse Proxy
    â–¼
[Spring Boot]
    â”‚
    â”œâ”€â†’ [Security Filter]
    â”‚       â”‚ JWT Validation
    â”‚       â–¼
    â”‚   [PermissionManager]
    â”‚       â”‚ RBAC + SoD Check
    â”‚       â–¼
    â”œâ”€â†’ [Controller]
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€â†’ [Service Layer]
    â”‚       â”‚ Business Logic
    â”‚       â–¼
    â”œâ”€â†’ [MyBatis Mapper]
    â”‚       â”‚
    â”‚       â–¼
    â”œâ”€â†’ [PostgreSQL]
    â”‚       â”‚
    â”‚       â–¼
    â””â”€â†’ [AuditLogger]
            â”‚ 100% Audit
            â–¼
        [AUDIT_LOG Table]
```

## ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ì¸ì¦/ì¸ê°€ íë¦„

```
[Login Page]
    â”‚ Username + Password
    â–¼
[AuthController]
    â”‚ Validate Credentials
    â–¼
[Spring Security]
    â”‚ Generate JWT
    â–¼
[Response: Access Token + Refresh Token]
    â”‚
    â–¼
[Browser Storage]
    â”‚ Save in Pinia Store (Memory)
    â”‚ Refresh Token in HttpOnly Cookie
    â–¼
[API Requests]
    â”‚ Authorization: Bearer {token}
    â–¼
[JwtAuthenticationFilter]
    â”‚ Validate Token
    â”‚ Extract User Info
    â–¼
[PermissionManager]
    â”‚ Check RBAC + SoD
    â–¼
[Controller Method]
```

### ë³´ì•ˆ ê³„ì¸µ

| ê³„ì¸µ | ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ |
|------|---------------|
| **Network** | - SSL/TLS ì•”í˜¸í™”<br>- WAF (Web Application Firewall)<br>- DDoS ë°©ì–´ |
| **Application** | - JWT ì¸ì¦<br>- RBAC + SoD<br>- CORS ì„¤ì •<br>- Rate Limiting |
| **Data** | - í•„ë“œ ë ˆë²¨ ì•”í˜¸í™” (PII)<br>- PostgreSQL TDE<br>- Backup ì•”í˜¸í™” |
| **Audit** | - 100% ê°ì‚¬ ë¡œê¹…<br>- ë¶ˆë³€ Audit DB<br>- 7ë…„ ë³´ê´€ |

## ì„±ëŠ¥ ë° í™•ì¥ì„±

### ì„±ëŠ¥ ëª©í‘œ

| ë©”íŠ¸ë¦­ | ëª©í‘œ |
|--------|------|
| **ë°°ì¹˜ ì²˜ë¦¬** | â‰¥1,000ë§Œ ê±´/ì¼ |
| **API ì‘ë‹µ** | P95 < 500ms |
| **API TPS** | 300-500 (í”¼í¬) |
| **UI ë Œë”ë§** | <1ì´ˆ (ì´ˆê¸°), <3ì´ˆ (ë³µì¡ ê²€ìƒ‰) |
| **ê°€ìš©ì„±** | 99.9% SLA |

### í™•ì¥ ì „ëµ

#### Horizontal Scaling (ìˆ˜í‰ í™•ì¥)
- **Frontend**: Nginx ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€ (ë¬´ìƒíƒœ)
- **Backend**: Spring Boot Pod ì¦ì„¤ (K8s Deployment)
- **Database**: Read Replica ì¶”ê°€ (ì½ê¸° ë¶„ì‚°)

#### Vertical Scaling (ìˆ˜ì§ í™•ì¥)
- **Database**: CPU/Memory ì¦ì„¤ (ì“°ê¸° ë¶€í•˜)
- **Cache**: Redis Memory í™•ì¥

#### Caching Strategy
```
L1 Cache (Local - Caffeine)
    â”œâ”€â†’ ì‚¬ìš©ì ê¶Œí•œ
    â””â”€â†’ ì½”ë“œ ê°’ (ë³€ê²½ ë¹ˆë„ ë‚®ìŒ)

L2 Cache (Distributed - Redis)
    â”œâ”€â†’ ì •ì±… ìŠ¤ëƒ…ìƒ·
    â”œâ”€â†’ ì„¸ì…˜ ë°ì´í„°
    â””â”€â†’ API ì‘ë‹µ (GET ìš”ì²­)
```

## ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### Application Performance Monitoring (APM)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Metrics Collection              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Micrometerâ”‚â”€â”€â”€â–¶â”‚  Prometheus    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚             â”‚
â”‚                           â–¼             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                    â”‚  Grafana       â”‚  â”‚
â”‚                    â”‚  (Dashboard)   â”‚  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì£¼ìš” ë©”íŠ¸ë¦­:
- JVM Heap/Non-Heap Memory
- HTTP Request Rate/Duration
- Database Connection Pool
- Cache Hit Ratio
- Business Metrics (Detection Count, Case Status)
```

### Centralized Logging

```
[Application Logs]
    â”‚ JSON Format
    â–¼
[Filebeat/Fluentd]
    â”‚
    â–¼
[Elasticsearch]
    â”‚
    â–¼
[Kibana Dashboard]

Log Levels:
- ERROR: ì¦‰ì‹œ ì•Œë¦¼
- WARN: ì¼ì¼ ë¦¬ë·°
- INFO: ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë²¤íŠ¸
- DEBUG: ê°œë°œ í™˜ê²½ë§Œ
```

## ì¬í•´ ë³µêµ¬ (DR)

### Backup Strategy
- **í’€ ë°±ì—…**: ë§¤ì¼ 02:00 (30ì¼ ë³´ê´€)
- **ì¦ë¶„ ë°±ì—…**: 6ì‹œê°„ë§ˆë‹¤ (WAL)
- **PITR**: 7ì¼ ì´ë‚´ ì„ì˜ ì‹œì  ë³µêµ¬

### RTO/RPO ëª©í‘œ
- **RTO** (Recovery Time Objective): 1ì‹œê°„
- **RPO** (Recovery Point Objective): 6ì‹œê°„

### DR Site
- **Primary**: Seoul Region
- **DR**: Busan Region (Standby)
- **Data Replication**: Streaming Replication (Async)

## ì°¸ê³  ë¬¸ì„œ

- **[DDD ì„¤ê³„](./DDD_DESIGN.md)** - ë„ë©”ì¸ ë ˆì´ì–´ êµ¬ì¡°
- **[ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](./DATABASE.md)** - ìƒì„¸ ìŠ¤í‚¤ë§ˆ
- **[API ê³„ì•½](../api/CONTRACT.md)** - Frontend â†” Backend í†µì‹ 
- **[í”„ë¡ íŠ¸ì—”ë“œ ê°€ì´ë“œ](../frontend/README.md)** - SPA ì•„í‚¤í…ì²˜
- **[ë³´ì•ˆ ê°€ì´ë“œ](../backend/SECURITY.md)** - ë³´ì•ˆ êµ¬í˜„ (ì˜ˆì •)
