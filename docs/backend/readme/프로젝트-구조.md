# π“ ν”„λ΅μ νΈ κµ¬μ΅°

## Multi-Module Architecture

```
inspect-hub/
β””β”€β”€ backend/
    β”β”€β”€ common/              # κ³µν†µ λ¨λ“ (μΈν”„λΌ λ μ΄μ–΄)
    β”β”€β”€ admin/               # κ΄€λ¦¬ λ„λ©”μΈ
    β”β”€β”€ policy/              # μ •μ±… κ΄€λ¦¬ λ„λ©”μΈ
    β”β”€β”€ detection/           # νƒμ§€ μ—”μ§„ λ„λ©”μΈ
    β”β”€β”€ investigation/       # μ΅°μ‚¬/μ‚¬λ΅€ λ„λ©”μΈ
    β”β”€β”€ reporting/           # λ³΄κ³  λ„λ©”μΈ
    β”β”€β”€ batch/               # λ°°μΉ μ²λ¦¬ λ¨λ“
    β”β”€β”€ simulation/          # λ¦¬μ¤ν¬ μ‹λ®¬λ μ΄μ… λ„λ©”μΈ
    β””β”€β”€ server/              # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ… (μ§‘ν•© λ¨λ“)
```

## Module Dependencies

```
server (Main Application)
  β”β”€β†’ common (κ³µν†µ)
  β”β”€β†’ admin (κ΄€λ¦¬) β””β”€β†’ common
  β”β”€β†’ policy (μ •μ±… κ΄€λ¦¬) β””β”€β†’ common
  β”β”€β†’ detection (νƒμ§€ μ—”μ§„) β””β”€β†’ common, policy
  β”β”€β†’ investigation (μ΅°μ‚¬) β””β”€β†’ common, detection
  β”β”€β†’ reporting (λ³΄κ³ ) β””β”€β†’ common, investigation
  β”β”€β†’ batch (λ°°μΉ) β””β”€β†’ common, detection, investigation
  β””β”€β†’ simulation (μ‹λ®¬λ μ΄μ…) β””β”€β†’ common, policy, detection
```

**μμ΅΄μ„± κ·μΉ™:**
- β λ„λ©”μΈ λ¨λ“μ€ `server`λ¥Ό μμ΅΄ν•  μ μ—†μ
- β `common`μ€ λ„λ©”μΈ λ¨λ“μ„ μμ΅΄ν•  μ μ—†μ
- β… λ„λ©”μΈ λ¨λ“μ€ `common`μ„ μμ΅΄ κ°€λ¥
- β… λ„λ©”μΈ λ¨λ“μ€ λ‹¤λ¥Έ λ„λ©”μΈ λ¨λ“μ„ μμ΅΄ κ°€λ¥
- β… `server`λ” λ¨λ“  λ„λ©”μΈ λ¨λ“μ„ μμ΅΄

## Module Structure (κ° λ„λ©”μΈ λ¨λ“)

```
policy/
β”β”€β”€ src/
β”‚   β”β”€β”€ main/
β”‚   β”‚   β”β”€β”€ java/
β”‚   β”‚   β”‚   β””β”€β”€ com/inspecthub/policy/
β”‚   β”‚   β”‚       β”β”€β”€ controller/        # REST μ»¨νΈλ΅¤λ¬
β”‚   β”‚   β”‚       β”‚   β””β”€β”€ PolicyController.java
β”‚   β”‚   β”‚       β”β”€β”€ service/           # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”‚   β”‚       β”‚   β””β”€β”€ PolicyService.java
β”‚   β”‚   β”‚       β”β”€β”€ dto/               # λ°μ΄ν„° μ „μ†΅ κ°μ²΄
β”‚   β”‚   β”‚       β”‚   β”β”€β”€ PolicyRequest.java
β”‚   β”‚   β”‚       β”‚   β””β”€β”€ PolicyResponse.java
β”‚   β”‚   β”‚       β”β”€β”€ mapper/            # MyBatis Mapper μΈν„°νμ΄μ¤
β”‚   β”‚   β”‚       β”‚   β””β”€β”€ PolicyMapper.java
β”‚   β”‚   β”‚       β””β”€β”€ entity/            # λ„λ©”μΈ μ—”ν‹°ν‹° (μ„ νƒ)
β”‚   β”‚   β”‚           β””β”€β”€ Policy.java
β”‚   β”‚   β””β”€β”€ resources/
β”‚   β”‚       β”β”€β”€ mybatis/
β”‚   β”‚       β”‚   β””β”€β”€ mapper/
β”‚   β”‚       β”‚       β””β”€β”€ PolicyMapper.xml  # MyBatis SQL λ§¤ν•‘
β”‚   β”‚       β””β”€β”€ application-policy.yml
β”‚   β””β”€β”€ test/
β”‚       β””β”€β”€ java/
β”‚           β””β”€β”€ com/inspecthub/policy/
β”‚               β”β”€β”€ service/
β”‚               β”‚   β””β”€β”€ PolicyServiceTest.java
β”‚               β””β”€β”€ controller/
β”‚                   β””β”€β”€ PolicyControllerTest.java
β””β”€β”€ build.gradle
```

## Common Module Structure

```
common/
β”β”€β”€ src/
β”‚   β””β”€β”€ main/
β”‚       β”β”€β”€ java/
β”‚       β”‚   β””β”€β”€ com/inspecthub/common/
β”‚       β”‚       β”β”€β”€ entity/
β”‚       β”‚       β”‚   β””β”€β”€ BaseDomain.java   # κΈ°λ³Έ λ„λ©”μΈ (ID, νƒ€μ„μ¤νƒ¬ν”„)
β”‚       β”‚       β”β”€β”€ dto/
β”‚       β”‚       β”‚   β”β”€β”€ ApiResponse.java  # ν†µμΌλ API μ‘λ‹µ
β”‚       β”‚       β”‚   β””β”€β”€ PageRequest.java  # νμ΄μ§€λ„¤μ΄μ… μ”μ²­
β”‚       β”‚       β”β”€β”€ exception/
β”‚       β”‚       β”‚   β”β”€β”€ BusinessException.java
β”‚       β”‚       β”‚   β””β”€β”€ GlobalExceptionHandler.java
β”‚       β”‚       β”β”€β”€ util/
β”‚       β”‚       β”‚   β”β”€β”€ UlidGenerator.java  # ULID μƒμ„±κΈ°
β”‚       β”‚       β”‚   β””β”€β”€ DateUtils.java
β”‚       β”‚       β”β”€β”€ mybatis/
β”‚       β”‚       β”‚   β”β”€β”€ typehandler/
β”‚       β”‚       β”‚   β”‚   β””β”€β”€ UlidTypeHandler.java
β”‚       β”‚       β”‚   β””β”€β”€ interceptor/
β”‚       β”‚       β”‚       β””β”€β”€ AuditInterceptor.java
β”‚       β”‚       β”β”€β”€ security/
β”‚       β”‚       β”‚   β”β”€β”€ JwtTokenProvider.java
β”‚       β”‚       β”‚   β””β”€β”€ SecurityConfig.java
β”‚       β”‚       β””β”€β”€ config/
β”‚       β”‚           β”β”€β”€ MyBatisConfig.java
β”‚       β”‚           β”β”€β”€ RedisConfig.java
β”‚       β”‚           β””β”€β”€ KafkaConfig.java
β”‚       β””β”€β”€ resources/
β”‚           β”β”€β”€ schema/
β”‚           β”‚   β””β”€β”€ ulid_example.sql
β”‚           β””β”€β”€ application-common.yml
β””β”€β”€ build.gradle
```

---
