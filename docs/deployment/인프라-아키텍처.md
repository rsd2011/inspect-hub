# 인프라 아키텍처

## 전체 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                      Internet                               │
└────────────────────────┬────────────────────────────────────┘
                         │
              ┌──────────▼──────────┐
              │   CloudFlare CDN    │
              │   (SSL/TLS, DDoS)   │
              └──────────┬──────────┘
                         │
         ┌───────────────▼───────────────┐
         │  Load Balancer (AWS ALB)      │
         │  - SSL Termination            │
         │  - Health Check               │
         └───────────┬───────────────────┘
                     │
        ┌────────────┼────────────┐
        │            │            │
┌───────▼──────┐ ┌──▼─────┐ ┌───▼──────┐
│  Frontend    │ │ Backend│ │ Backend  │
│  (Nginx)     │ │  Pod 1 │ │  Pod 2   │
│  Static SPA  │ │  (K8s) │ │  (K8s)   │
└──────────────┘ └────┬───┘ └───┬──────┘
                      │         │
                ┌─────┴─────────┴─────┐
                │                     │
         ┌──────▼──────┐       ┌─────▼──────┐
         │ PostgreSQL  │       │   Redis    │
         │  (Primary)  │       │  (Cluster) │
         │             │       │            │
         │  (Replica)  │       └────────────┘
         └─────────────┘
                │
         ┌──────▼──────┐
         │    Kafka    │
         │  (Cluster)  │
         └─────────────┘
```

## 컴포넌트 사양

| 컴포넌트 | 인스턴스 수 | CPU | 메모리 | 스토리지 |
|----------|-------------|-----|--------|----------|
| **Frontend (Nginx)** | 2 | 1 core | 512 MB | 10 GB |
| **Backend (Spring Boot)** | 3 | 2 cores | 4 GB | 20 GB |
| **PostgreSQL (Primary)** | 1 | 4 cores | 16 GB | 500 GB SSD |
| **PostgreSQL (Replica)** | 2 | 4 cores | 16 GB | 500 GB SSD |
| **Redis (Cluster)** | 3 | 2 cores | 8 GB | 50 GB |
| **Kafka (Cluster)** | 3 | 4 cores | 16 GB | 200 GB |

---
