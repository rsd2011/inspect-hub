# Java/Spring 예외 처리 설계 가이드

## Table of Contents

- [Java/Spring 예외 처리 설계 가이드](#table-of-contents)
  - [📚 목차](./목차.md)
  - [🎯 개요](./개요.md)
  - [👤 역할 및 프로젝트 컨텍스트](./역할-및-프로젝트-컨텍스트.md)
    - [역할 (Role)](./역할-및-프로젝트-컨텍스트.md#역할-role)
    - [프로젝트 컨텍스트](./역할-및-프로젝트-컨텍스트.md#프로젝트-컨텍스트)
  - [📜 공통 설계 원칙](./공통-설계-원칙.md)
    - [1. 레이어별 책임 분리](./공통-설계-원칙.md#1-레이어별-책임-분리)
    - [2. 예외 vs 결과 객체 사용 기준](./공통-설계-원칙.md#2-예외-vs-결과-객체-사용-기준)
      - [예외로 처리 (BusinessException)](./공통-설계-원칙.md#예외로-처리-businessexception)
      - [결과 객체로 처리 (Result/Optional)](./공통-설계-원칙.md#결과-객체로-처리-resultoptional)
    - [3. 전역 예외 처리 전략](./공통-설계-원칙.md#3-전역-예외-처리-전략)
    - [4. 도메인 규칙 처리](./공통-설계-원칙.md#4-도메인-규칙-처리)
    - [5. 함수형/불변/클린 코드 지향](./공통-설계-원칙.md#5-함수형불변클린-코드-지향)
  - [📊 레이어별 예외 처리 정책 표](./레이어별-예외-처리-정책-표.md)
    - [Controller 레이어](./레이어별-예외-처리-정책-표.md#controller-레이어)
    - [Service 레이어](./레이어별-예외-처리-정책-표.md#service-레이어)
    - [Domain 레이어 (Entity, VO)](./레이어별-예외-처리-정책-표.md#domain-레이어-entity-vo)
    - [Repository 레이어](./레이어별-예외-처리-정책-표.md#repository-레이어)
  - [🔧 ErrorCode + BusinessException 설계](./errorcode-businessexception-설계.md)
    - [ErrorCode Enum](./errorcode-businessexception-설계.md#errorcode-enum)
    - [BusinessException](./errorcode-businessexception-설계.md#businessexception)
    - [GlobalExceptionHandler](./errorcode-businessexception-설계.md#globalexceptionhandler)
  - [🔀 Service 레이어 예외 처리 패턴](./service-레이어-예외-처리-패턴.md)
    - [패턴 1: BusinessException 던지기 (유스케이스 중단)](./service-레이어-예외-처리-패턴.md#패턴-1-businessexception-던지기-유스케이스-중단)
    - [패턴 2: Result 반환 (정상 분기)](./service-레이어-예외-처리-패턴.md#패턴-2-result-반환-정상-분기)
  - [🛡 도메인 규칙 위반 처리](./도메인-규칙-위반-처리.md)
    - [DomainException 정의](./도메인-규칙-위반-처리.md#domainexception-정의)
    - [Entity에서 규칙 검증](./도메인-규칙-위반-처리.md#entity에서-규칙-검증)
    - [Value Object 불변성 보장](./도메인-규칙-위반-처리.md#value-object-불변성-보장)
  - [🔄 재시도/회로 차단 패턴](./재시도회로-차단-패턴.md)
    - [Spring Retry 활용](./재시도회로-차단-패턴.md#spring-retry-활용)
    - [Resilience4j Circuit Breaker 활용](./재시도회로-차단-패턴.md#resilience4j-circuit-breaker-활용)
  - [🔒 보안 고려사항](./보안-고려사항.md)
    - [1. 스택 트레이스 노출 방지](./보안-고려사항.md#1-스택-트레이스-노출-방지)
    - [2. 민감 정보 보호](./보안-고려사항.md#2-민감-정보-보호)
    - [3. SQL Injection 방지](./보안-고려사항.md#3-sql-injection-방지)
    - [4. 에러 코드 기반 보안](./보안-고려사항.md#4-에러-코드-기반-보안)
  - [📝 로깅 전략](./로깅-전략.md)
    - [1. 로그 레벨 정의](./로깅-전략.md#1-로그-레벨-정의)
    - [2. 구조화된 로깅](./로깅-전략.md#2-구조화된-로깅)
    - [3. MDC (Mapped Diagnostic Context) 활용](./로깅-전략.md#3-mdc-mapped-diagnostic-context-활용)
    - [4. 예외 로깅 Best Practices](./로깅-전략.md#4-예외-로깅-best-practices)
  - [🧪 테스트 전략](./테스트-전략.md)
    - [1. MockMvc를 사용한 예외 핸들러 테스트](./테스트-전략.md#1-mockmvc를-사용한-예외-핸들러-테스트)
    - [2. Service 레이어 예외 테스트](./테스트-전략.md#2-service-레이어-예외-테스트)
    - [3. 도메인 예외 테스트](./테스트-전략.md#3-도메인-예외-테스트)
  - [⚙️ @RestControllerAdvice 고급 기능](./restcontrolleradvice-고급-기능.md)
    - [1. 스코프 제어 (Scope Control)](./restcontrolleradvice-고급-기능.md#1-스코프-제어-scope-control)
    - [2. 우선순위 (Precedence)](./restcontrolleradvice-고급-기능.md#2-우선순위-precedence)
    - [3. 여러 ExceptionHandler 조합](./restcontrolleradvice-고급-기능.md#3-여러-exceptionhandler-조합)
    - [4. @Order를 통한 우선순위 제어](./restcontrolleradvice-고급-기능.md#4-order를-통한-우선순위-제어)
  - [⚠️ 예외 처리 안티패턴](./예외-처리-안티패턴.md)
    - [1. 예외 삼키기 (Exception Swallowing)](./예외-처리-안티패턴.md#1-예외-삼키기-exception-swallowing)
    - [2. 과도한 try-catch 사용](./예외-처리-안티패턴.md#2-과도한-try-catch-사용)
    - [3. 일반 Exception 던지기](./예외-처리-안티패턴.md#3-일반-exception-던지기)
    - [4. 예외를 흐름 제어로 사용](./예외-처리-안티패턴.md#4-예외를-흐름-제어로-사용)
    - [5. 민감한 정보 노출](./예외-처리-안티패턴.md#5-민감한-정보-노출)
    - [6. Checked Exception 남용](./예외-처리-안티패턴.md#6-checked-exception-남용)
  - [⚡ 성능 고려사항](./성능-고려사항.md)
    - [1. 예외 생성 비용](./성능-고려사항.md#1-예외-생성-비용)
    - [2. 스택 트레이스 비활성화 (특수 상황)](./성능-고려사항.md#2-스택-트레이스-비활성화-특수-상황)
    - [3. 예외 캐싱 (Singleton Pattern)](./성능-고려사항.md#3-예외-캐싱-singleton-pattern)
    - [4. 로깅 성능 고려](./성능-고려사항.md#4-로깅-성능-고려)
  - [✅ 예외 처리 체크리스트](./예외-처리-체크리스트.md)
    - [코드 작성 시](./예외-처리-체크리스트.md#코드-작성-시)
    - [코드 리뷰 시](./예외-처리-체크리스트.md#코드-리뷰-시)
  - [🔧 리팩터링 계획](./리팩터링-계획.md)
    - [Phase 1: ErrorCode 통합](./리팩터링-계획.md#phase-1-errorcode-통합)
    - [Phase 2: BusinessException 표준화](./리팩터링-계획.md#phase-2-businessexception-표준화)
    - [Phase 3: 도메인 규칙 검증 강화](./리팩터링-계획.md#phase-3-도메인-규칙-검증-강화)
    - [Phase 4: Result 패턴 도입](./리팩터링-계획.md#phase-4-result-패턴-도입)
    - [Phase 5: 외부 API 안정성 강화](./리팩터링-계획.md#phase-5-외부-api-안정성-강화)
  - [📖 참고 문서](./참고-문서.md)
    - [프로젝트 문서](./참고-문서.md#프로젝트-문서)
    - [외부 문서](./참고-문서.md#외부-문서)
  - [🔄 변경 이력](./변경-이력.md)
