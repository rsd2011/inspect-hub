# ⚠️ 예외 처리 안티패턴

> **주의**: 다음 패턴들은 피해야 함

## 1. 예외 삼키기 (Exception Swallowing)

```java
// ❌ Bad: 예외를 로그 없이 무시
try {
    externalApiService.call();
} catch (Exception e) {
    // 아무것도 하지 않음 - 문제 발생 시 디버깅 불가능
}

// ✅ Good: 최소한 로그 남기기
try {
    externalApiService.call();
} catch (Exception e) {
    log.error("External API call failed", e);
    // Fallback 로직 또는 예외 재발생
}
```

## 2. 과도한 try-catch 사용

```java
// ❌ Bad: 불필요한 try-catch
public User getUser(String id) {
    try {
        return userRepository.findById(id)
                .orElseThrow(() -> new UserNotFoundException(id));
    } catch (UserNotFoundException e) {
        throw e; // 의미 없는 재발생
    }
}

// ✅ Good: 필요 없으면 제거
public User getUser(String id) {
    return userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException(id));
}
```

## 3. 일반 Exception 던지기

```java
// ❌ Bad: 일반 Exception 사용
public void processData() throws Exception {
    if (data == null) {
        throw new Exception("Data is null"); // ❌ 너무 일반적
    }
}

// ✅ Good: 구체적인 예외 사용
public void processData() {
    if (data == null) {
        throw new BusinessException(ErrorCode.DATA_NULL);
    }
}
```

## 4. 예외를 흐름 제어로 사용

```java
// ❌ Bad: 예외를 정상 흐름으로 사용
public User findUser(String id) {
    try {
        return userRepository.findById(id).orElseThrow();
    } catch (NoSuchElementException e) {
        return createDefaultUser(); // ❌ 예외로 흐름 제어
    }
}

// ✅ Good: 명시적 분기
public User findUser(String id) {
    return userRepository.findById(id)
            .orElseGet(this::createDefaultUser);
}
```

## 5. 민감한 정보 노출

```java
// ❌ Bad: 스택 트레이스 전체 노출
catch (Exception e) {
    return ApiResponse.error("ERROR", e.toString()); // ❌ 내부 정보 노출
}

// ✅ Good: 안전한 메시지만 노출
catch (Exception e) {
    log.error("Error occurred", e); // ✅ 로그에만 상세 정보
    return ApiResponse.error("INTERNAL_ERROR", "서버 오류");
}
```

## 6. Checked Exception 남용

```java
// ❌ Bad: 불필요한 Checked Exception
public User getUser(String id) throws UserNotFoundException { // ❌ Checked
    return userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException(id));
}

// ✅ Good: RuntimeException 사용
public User getUser(String id) {
    return userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException(id)); // ✅ Unchecked
}
```

---
