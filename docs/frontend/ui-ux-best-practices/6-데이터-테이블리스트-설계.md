# 6. 데이터 테이블·리스트 설계

업무 시스템의 핵심은 **테이블 기반 데이터 관리**이므로, 다음 원칙을 적용한다.

## 기본 구조

```
┌─────────────────────────────────────────────────────────┐
│ 상단: 검색창 + 주요 필터 (상태, 기간, 담당자 등)         │
│ ┌─────┐ [검색] [상태: 전체 ▼] [기간: 최근 7일 ▼]       │
├─────────────────────────────────────────────────────────┤
│ 중단: 데이터 테이블 (컬럼 헤더, 정렬, 선택 박스 등)     │
│ ┌─┬────────┬────────┬────────┬────────┬────────┬──────┐│
│ │☐│케이스ID│고객명  │탐지일  │상태    │담당자  │액션  ││
│ ├─┼────────┼────────┼────────┼────────┼────────┼──────┤│
│ │☐│CASE-001│홍길동  │2025-01 │대기중  │김준법  │[보기]││
│ │☐│CASE-002│이순신  │2025-01 │조사중  │박컴플  │[보기]││
│ └─┴────────┴────────┴────────┴────────┴────────┴──────┘│
├─────────────────────────────────────────────────────────┤
│ 하단: 페이지네이션 또는 무한 스크롤                      │
│ [◀] 1 2 3 4 5 ... 10 [▶]   (총 234건, 페이지당 20건)   │
└─────────────────────────────────────────────────────────┘
```

## 테이블 사용성 원칙

1. **컬럼 정렬**
   - 컬럼 헤더 클릭으로 정렬 가능
   - 현재 정렬 상태 시각적으로 표시 (▲ ▼)

2. **고정 컬럼**
   - 주요 식별자, 핵심 상태를 좌측에 배치하고, 스크롤 시 고정
   - RealGrid2의 `fixed: true` 옵션 활용

3. **행 상호작용**
   - 행 hover 시 배경색 변경으로 구분
   - 행 클릭 또는 우측에 **주요 액션 버튼** 배치
   - 예시: [보기] [수정] [삭제]

4. **행 다중 선택 + 벌크 액션**
   - 행 다중 선택 후 상단/하단에 **벌크 액션 영역** 제공
   - 예시: "선택한 3건을 승인하시겠습니까?"

**구현 예시:**
```vue
<template>
  <div class="tw-p-4">
    <!-- 선택된 행이 있을 때만 표시 -->
    <div v-if="selectedRows.length > 0" class="tw-mb-4 tw-p-3 tw-bg-blue-50 tw-rounded">
      <span class="tw-font-semibold">{{ selectedRows.length }}건 선택됨</span>
      <Button label="일괄 승인" severity="primary" @click="bulkApprove" class="tw-ml-4" />
      <Button label="일괄 반려" severity="danger" @click="bulkReject" class="tw-ml-2" />
    </div>

    <!-- RealGrid2 또는 PrimeVue DataTable -->
    <DataTable :value="cases" v-model:selection="selectedRows" selectionMode="multiple">
      <Column selectionMode="multiple" headerStyle="width: 3rem"></Column>
      <Column field="caseId" header="케이스 ID" sortable></Column>
      <Column field="customerName" header="고객명" sortable></Column>
      <Column field="detectedDate" header="탐지일" sortable></Column>
      <Column field="status" header="상태" sortable>
        <template #body="slotProps">
          <StatusBadge :status="slotProps.data.status" />
        </template>
      </Column>
      <Column header="액션">
        <template #body="slotProps">
          <Button icon="pi pi-eye" text @click="viewCase(slotProps.data)" />
          <Button icon="pi pi-pencil" text @click="editCase(slotProps.data)" />
        </template>
      </Column>
    </DataTable>
  </div>
</template>
```

## 필터·검색

1. **자주 사용하는 필터는 항상 기본 노출**
   - 예시: 상태 (전체/대기중/조사중/완료), 기간 (오늘/최근 7일/최근 30일/사용자 정의)

2. **복잡한 조건 검색은 "고급 필터" 패널**
   - 슬라이드 패널 또는 모달로 제공
   - 필터 조합을 **저장/불러오기** 할 수 있는 기능 고려

**고급 필터 예시:**
```vue
<SlidePanel v-model:visible="showAdvancedFilter" header="고급 필터">
  <FormField label="고객 유형">
    <Dropdown v-model="filter.customerType" :options="customerTypes" />
  </FormField>
  <FormField label="위험도">
    <MultiSelect v-model="filter.riskLevels" :options="riskLevels" />
  </FormField>
  <FormField label="담당자">
    <AutoComplete v-model="filter.assignee" :suggestions="assignees" />
  </FormField>
  <template #footer>
    <Button label="적용" severity="primary" @click="applyFilter" />
    <Button label="초기화" severity="secondary" @click="resetFilter" />
  </template>
</SlidePanel>
```

## 빈 상태 (Empty State)

- 데이터가 없을 때 단순히 "데이터 없음"이 아니라:
  - **왜 없는지** (필터 때문인지, 아직 데이터가 생성되지 않았는지)
  - **다음에 무엇을 할 수 있는지** (버튼, 가이드)를 함께 제공

**예시:**
```vue
<div v-if="cases.length === 0" class="tw-text-center tw-py-8">
  <i class="pi pi-inbox tw-text-6xl tw-text-gray-400"></i>
  <p class="tw-text-gray-600 tw-mt-4">검색 조건에 맞는 케이스가 없습니다.</p>
  <Button label="필터 초기화" severity="secondary" @click="resetFilter" class="tw-mt-4" />
</div>
```

---
